PLEASE submit a bug report to https://bugs.llvm.org/ and include the crash backtrace, preprocessed source, and associated run script.
 #0 0x00007f152b7b014e llvm::sys::PrintStackTrace(llvm::raw_ostream&) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libLLVMSupport.so.12git+0x22014e)
 #1 0x00007f152b7ade84 llvm::sys::RunSignalHandlers() (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libLLVMSupport.so.12git+0x21de84)
 #2 0x00007f152b7adfc8 SignalHandler(int) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libLLVMSupport.so.12git+0x21dfc8)
 #3 0x00007f152b1cc210 (/lib/x86_64-linux-gnu/libc.so.6+0x46210)
 #4 0x00007f152a00aac0 clang::ASTRecordLayout::ASTRecordLayout(clang::ASTContext const&, clang::CharUnits, clang::CharUnits, clang::CharUnits, clang::CharUnits, clang::CharUnits, bool, bool, clang::CharUnits, clang::CharUnits, llvm::ArrayRef<unsigned long>, clang::CharUnits, clang::CharUnits, clang::CharUnits, clang::CharUnits, clang::CXXRecordDecl const*, bool, clang::CXXRecordDecl const*, bool, bool, llvm::DenseMap<clang::CXXRecordDecl const*, clang::CharUnits, llvm::DenseMapInfo<clang::CXXRecordDecl const*>, llvm::detail::DenseMapPair<clang::CXXRecordDecl const*, clang::CharUnits> > const&, llvm::DenseMap<clang::CXXRecordDecl const*, clang::ASTRecordLayout::VBaseInfo, llvm::DenseMapInfo<clang::CXXRecordDecl const*>, llvm::detail::DenseMapPair<clang::CXXRecordDecl const*, clang::ASTRecordLayout::VBaseInfo> > const&) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x73eac0)
 #5 0x00007f152a017e4e clang::ASTContext::getASTRecordLayout(clang::RecordDecl const*) const (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x74be4e)
 #6 0x00007f1529e59120 HandleLValueMember((anonymous namespace)::EvalInfo&, clang::Expr const*, (anonymous namespace)::LValue&, clang::FieldDecl const*, clang::ASTRecordLayout const*) (.constprop.0) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x58d120)
 #7 0x00007f1529e9fb76 (anonymous namespace)::LValueExprEvaluator::VisitVarDecl(clang::Expr const*, clang::VarDecl const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5d3b76)
 #8 0x00007f1529e86609 clang::StmtVisitorBase<llvm::make_const_ptr, (anonymous namespace)::LValueExprEvaluator, bool>::Visit(clang::Stmt const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5ba609)
 #9 0x00007f1529ef16eb (anonymous namespace)::ExprEvaluatorBase<(anonymous namespace)::LValueExprEvaluator>::VisitCastExpr(clang::CastExpr const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x6256eb)
#10 0x00007f1529e8536e clang::StmtVisitorBase<llvm::make_const_ptr, (anonymous namespace)::LValueExprEvaluator, bool>::Visit(clang::Stmt const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5b936e)
#11 0x00007f1529e869eb EvaluateLValue(clang::Expr const*, (anonymous namespace)::LValue&, (anonymous namespace)::EvalInfo&, bool) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5ba9eb)
#12 0x00007f1529ed3243 (anonymous namespace)::ExprEvaluatorBase<(anonymous namespace)::IntExprEvaluator>::handleCallExpr(clang::CallExpr const*, clang::APValue&, (anonymous namespace)::LValue const*) (.constprop.0) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x607243)
#13 0x00007f1529ee4d78 (anonymous namespace)::IntExprEvaluator::VisitCallExpr(clang::CallExpr const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x618d78)
#14 0x00007f1529ea119d clang::StmtVisitorBase<llvm::make_const_ptr, (anonymous namespace)::IntExprEvaluator, bool>::Visit(clang::Stmt const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5d519d)
#15 0x00007f1529e8db6e Evaluate(clang::APValue&, (anonymous namespace)::EvalInfo&, clang::Expr const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5c1b6e)
#16 0x00007f1529e9042f (anonymous namespace)::DataRecursiveIntBinOpEvaluator::process((anonymous namespace)::DataRecursiveIntBinOpEvaluator::EvalResult&) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5c442f)
#17 0x00007f1529ee500b (anonymous namespace)::IntExprEvaluator::VisitBinaryOperator(clang::BinaryOperator const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x61900b)
#18 0x00007f1529ea15a5 clang::StmtVisitorBase<llvm::make_const_ptr, (anonymous namespace)::IntExprEvaluator, bool>::Visit(clang::Stmt const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5d55a5)
#19 0x00007f1529e8db6e Evaluate(clang::APValue&, (anonymous namespace)::EvalInfo&, clang::Expr const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5c1b6e)
#20 0x00007f1529e8e3fb EvaluateAsBooleanCondition(clang::Expr const*, bool&, (anonymous namespace)::EvalInfo&) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5c23fb)
#21 0x00007f1529eb1425 EvaluateCond((anonymous namespace)::EvalInfo&, clang::VarDecl const*, clang::Expr const*, bool&) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5e5425)
#22 0x00007f1529eac700 EvaluateStmt((anonymous namespace)::StmtResult&, (anonymous namespace)::EvalInfo&, clang::Stmt const*, clang::SwitchCase const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5e0700)
#23 0x00007f1529eabf60 EvaluateStmt((anonymous namespace)::StmtResult&, (anonymous namespace)::EvalInfo&, clang::Stmt const*, clang::SwitchCase const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5dff60)
#24 0x00007f1529eb2574 HandleFunctionCall(clang::SourceLocation, clang::FunctionDecl const*, (anonymous namespace)::LValue const*, llvm::ArrayRef<clang::Expr const*>, clang::Stmt const*, (anonymous namespace)::EvalInfo&, clang::APValue&, (anonymous namespace)::LValue const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5e6574)
#25 0x00007f1529ed9fab (anonymous namespace)::ExprEvaluatorBase<(anonymous namespace)::VoidExprEvaluator>::handleCallExpr(clang::CallExpr const*, clang::APValue&, (anonymous namespace)::LValue const*) (.constprop.0) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x60dfab)
#26 0x00007f1529edaa07 (anonymous namespace)::VoidExprEvaluator::VisitCallExpr(clang::CallExpr const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x60ea07)
#27 0x00007f1529edb969 clang::StmtVisitorBase<llvm::make_const_ptr, (anonymous namespace)::VoidExprEvaluator, bool>::Visit(clang::Stmt const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x60f969)
#28 0x00007f1529e8e269 Evaluate(clang::APValue&, (anonymous namespace)::EvalInfo&, clang::Expr const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5c2269)
#29 0x00007f1529e8e493 EvaluateIgnoredValue((anonymous namespace)::EvalInfo&, clang::Expr const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5c2493)
#30 0x00007f1529eac20c EvaluateStmt((anonymous namespace)::StmtResult&, (anonymous namespace)::EvalInfo&, clang::Stmt const*, clang::SwitchCase const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5e020c)
#31 0x00007f1529eb2183 EvaluateLoopBody((anonymous namespace)::StmtResult&, (anonymous namespace)::EvalInfo&, clang::Stmt const*, clang::SwitchCase const*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x5e6183)
#32 0x00007f1529ee7c3a std::_Function_handler<void (), std::_Bind<EvaluateStmt((anonymous namespace)::StmtResult&, (anonymous namespace)::EvalInfo&, clang::Stmt const*, clang::SwitchCase const*)::'lambda'((anonymous namespace)::EvalInfo&, (anonymous namespace)::ScopeRAII<false>&, clang::ForStmt const*, (anonymous namespace)::StmtResult&, std::promise<(anonymous namespace)::EvalStmtResult>&) (std::reference_wrapper<(anonymous namespace)::EvalInfo>, std::reference_wrapper<(anonymous namespace)::ScopeRAII<false> >, clang::ForStmt const*, std::reference_wrapper<(anonymous namespace)::StmtResult>, std::reference_wrapper<std::promise<(anonymous namespace)::EvalStmtResult> >)> >::_M_invoke(std::_Any_data const&) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libclangAST.so.12git+0x61bc3a)
#33 0x00007f152b7414c6 std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> (), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, std::__future_base::_Task_state<std::function<void ()>, std::allocator<int>, void ()>::_M_run()::'lambda'(), void> >::_M_invoke(std::_Any_data const&) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libLLVMSupport.so.12git+0x1b14c6)
#34 0x00007f152b71f35d std::__future_base::_State_baseV2::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*) (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libLLVMSupport.so.12git+0x18f35d)
#35 0x00007f152848f47f __pthread_once_slow /build/glibc-eX1tMB/glibc-2.31/nptl/pthread_once.c:118:7
#36 0x00007f152b741de0 std::thread::_State_impl<std::thread::_Invoker<std::tuple<llvm::ThreadPool::ThreadPool(llvm::ThreadPoolStrategy)::'lambda'()> > >::_M_run() (/home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump/lib/libLLVMSupport.so.12git+0x1b1de0)
#37 0x00007f152b44ed84 (/usr/lib/x86_64-linux-gnu/libstdc++.so.6+0xd6d84)
#38 0x00007f1528486609 start_thread /build/glibc-eX1tMB/glibc-2.31/nptl/pthread_create.c:478:7
#39 0x00007f152b2a8293 clone /build/glibc-eX1tMB/glibc-2.31/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:97:0
clang-12: error: unable to execute command: Segmentation fault (core dumped)
clang-12: error: clang frontend command failed due to signal (use -v to see invocation)
clang version 12.0.0 (https://github.com/llvm/llvm-project.git d6eb5bb352c64ef2d7cc57181f7d0341cffaed13)
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /home/gozillon/Documents/Clang-LLVM/build-with-asserts_dump//bin
clang-12: note: diagnostic msg: 
********************

PLEASE ATTACH THE FOLLOWING FILES TO THE BUG REPORT:
Preprocessed source(s) and associated run script(s) are located at:
clang-12: note: diagnostic msg: /tmp/cexpr_nbody-df4997.cpp
clang-12: note: diagnostic msg: /tmp/cexpr_nbody-df4997.sh
clang-12: note: diagnostic msg: 

********************
